(function(){var t={6669:function(t,n,e){"use strict";e.d(n,{default:function(){return c}});var i=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},r=[function(){var t=this,n=t._self._c;t._self._setupProxy;return n("div",[n("h1",{staticClass:"mb-5 mt-5 text-center"},[t._v("КРИТИЧЕСКАЯ ОШИБКА!")]),n("h5",{staticClass:"text-center"},[t._v("Коллизия хэш кода, генерация короткой ссылки невозможна, обратитесь в поддержку!")])])}],s=e(2154),o=e.n(s),a=o(),l=e(1001),u=(0,l.Z)(a,i,r,!1,null,null,null),c=u.exports},8194:function(t,n,e){"use strict";e.d(n,{default:function(){return c}});var i=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},r=[function(){var t=this,n=t._self._c;t._self._setupProxy;return n("div",[n("h1",{staticClass:"mb-5 mt-5 text-center"},[t._v("404")]),n("h5",{staticClass:"text-center"},[t._v("Ссылка недействительна, такой страницы нет, обратитесь в поддержку!")])])}],s=e(1024),o=e.n(s),a=o(),l=e(1001),u=(0,l.Z)(a,i,r,!1,null,null,null),c=u.exports},5652:function(t,n,e){"use strict";e.d(n,{Z:function(){return f}});var i=function(){var t=this,n=t._self._c;return n("div",[n("h1",{staticClass:"mb-5 mt-5 text-center"},[t._v("Сервис сокращения ссылок")]),n("b-form",{staticClass:"mb-5 text-center",attrs:{inline:""},on:{submit:function(n){return n.preventDefault(),t.generateShortLink.apply(null,arguments)}}},[n("label",{staticClass:"sr-only",attrs:{for:"input-link"}},[t._v("Ваша ссылка:")]),n("b-form-input",{staticClass:"mb-2 ms-2 me-2 w-50",staticStyle:{display:"inline",width:"auto","vertical-align":"middle"},attrs:{id:"input-link",type:"url",placeholder:"https://example.com",pattern:"https://.*",required:""},model:{value:t.mainLink,callback:function(n){t.mainLink=n},expression:"mainLink"}}),n("b-button",{staticClass:"mb-2",attrs:{type:"submit",variant:"primary"}},[t._v("Создать короткую ссылку")])],1),n("div",{staticClass:"mb-3 text-center"},[t.isFetching?n("div",[n("b-spinner")],1):t._e(),t.shortLink?n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only",attrs:{for:"shorted-link"}},[t._v("Короткая ссылка:")]),n("b-form-input",{staticClass:"mb-2 ms-2 me-2 w-50",staticStyle:{display:"inline",width:"auto","vertical-align":"middle"},attrs:{id:"shorted-link",type:"text",value:t.shortLink,readonly:""}}),n("b-button",{staticClass:"mb-2",attrs:{id:"copy-btn","data-clipboard-target":"#shorted-link"},on:{click:t.copyToClipboard}},[t._v(t._s(t.isCopied))])],1):t._e()],1),t.shortLink?n("div",{staticClass:"text-center"},[t.screenshot?n("b-img",{staticClass:"w-75",attrs:{src:t.screenshot,alt:"Screenshot",fluid:"",thumbnail:""}}):n("div",[n("b-spinner")],1)],1):t._e()],1)},r=[],s=(e(2062),e(8134)),o=e.n(s),a={data(){return{mainLink:"",shortLink:"",screenshot:null,isCopied:"Копировать",isFetching:!1}},methods:{generateShortLink(){this.isFetching=!0,this.shortLink="",this.screenshot=null,this.checkValidUrl(this.mainLink).then((t=>{!0===t?(fetch("/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mainLink:this.mainLink})}).then((t=>t.json())).then((t=>{this.shortLink="https://link-shortener-production-0bf0.up.railway.app/r/"+t.shortlink,this.putImage(t.id)})).catch((t=>console.log(t))),this.isCopied="Копировать",this.isFetching=!1):this.isFetching=!1}))},putImage(t){fetch(`/putimage/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(""),timeout:6e4}).then((t=>t.blob())).then((t=>{this.screenshot=URL.createObjectURL(t)})).catch((t=>console.log(t)))},copyToClipboard(){new(o())("#copy-btn"),this.isCopied="Скопировано"},checkValidUrl(t){return fetch(t,{mode:"no-cors"}).then((t=>!!t||(alert("Ошибка: эта ссылка никуда не ведет"),!1))).catch((()=>(alert("Ошибка: эта ссылка никуда не ведет"),!1)))}}},l=a,u=e(1001),c=(0,u.Z)(l,i,r,!1,null,null,null),f=c.exports},2154:function(){},1024:function(){},6123:function(t,n,e){"use strict";var i=e(6369),r=function(){var t=this,n=t._self._c;return n("div",{staticClass:"mb-5 mx-auto"},[n("router-view")],1)},s=[],o={name:"App"},a=o,l=e(1001),u=(0,l.Z)(a,r,s,!1,null,null,null),c=u.exports,f=e(6681),h=e(9425),p=(e(7024),e(2631));i["default"].use(p.ZP);const d=[{path:"/",name:"Home",component:e(5652).Z},{path:"/404",name:"404",component:e(8194)["default"]},{path:"/collision",name:"Collision",component:e(6669)["default"]}],m=new p.ZP({mode:"history",routes:d});var b=m;i["default"].use(f.XG7),i["default"].use(h.X),i["default"].config.productionTip=!1,new i["default"]({router:b,render:t=>t(c)}).$mount("#app")}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var s=n[i]={exports:{}};return t[i].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(n,i,r,s){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],r=t[c][1],s=t[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(e.O).every((function(t){return e.O[t](i[l])}))?i.splice(l--,1):(a=!1,s<o&&(o=s));if(a){t.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[i,r,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var r,s,o=i[0],a=i[1],l=i[2],u=0;if(o.some((function(n){return 0!==t[n]}))){for(r in a)e.o(a,r)&&(e.m[r]=a[r]);if(l)var c=l(e)}for(n&&n(i);u<o.length;u++)s=o[u],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(c)},i=self["webpackChunkappnew"]=self["webpackChunkappnew"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(6123)}));i=e.O(i)})();
//# sourceMappingURL=app.4d82ba53.js.map